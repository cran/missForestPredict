<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Elena Albu" />

<meta name="date" content="2023-12-11" />

<title>missForestPredict convergence criteria and error monitoring</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>


<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">

div.csl-bib-body { }
div.csl-entry {
clear: both;
}
.hanging div.csl-entry {
margin-left:2em;
text-indent:-2em;
}
div.csl-left-margin {
min-width:2em;
float:left;
}
div.csl-right-inline {
margin-left:2em;
padding-left:1em;
}
div.csl-indent {
margin-left: 2em;
}
</style>

<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">missForestPredict convergence criteria and
error monitoring</h1>
<h4 class="author">Elena Albu</h4>
<h4 class="date">2023-12-11</h4>



<div id="introduction" class="section level1">
<h1>Introduction</h1>
<div id="what-is-this-document" class="section level2">
<h2>What is this document?</h2>
<p>This document explains in detail the convergence criteria and error
monitoring.</p>
<p>For basic usage of the <code>missForestPredict</code> package read
the <em>Using the missForestPredict package</em> vignette.</p>
</div>
<div id="convergence-criteria" class="section level2">
<h2>Convergence criteria</h2>
<p><code>missForestPredict</code> imputes each variable in a dataset in
an iterative fashion, using an adapted version of the
<code>misForest</code> algorithm <span class="citation">(Stekhoven and
BÃ¼hlmann 2012)</span>. By default, convergence is calculated based on
the OOB error, but the apparent error can be used too. At each iteration
the out-of-bag (OOB) error is calculated for each variable separately.
To obtain a global error the OOB errors for all variables a weighted
average is used, that can be controlled by the <code>var_weights</code>
parameter. By default the weight of each variable in the convergence
criteria is set to the proportion of missing values in the dataset.</p>
<p>The normalized mean square error (NMSE) is used for both continuous
and categorical variables. For continuous variables, it is equivalent to
<span class="math inline">\(1 - R^2\)</span>. For categorical variables,
it is equivalent to <span class="math inline">\(1 - BSS\)</span> (Brier
Skill Score).</p>
<p><strong>Continuous variables</strong>:</p>
<p><span class="math inline">\(NMSE = \frac{\sum_{i=1}^{N}(x_i -
\hat{x_i})^2}{\sum_{i=1}^{N} (x_i - \bar{x})^2} = 1 - R^2\)</span>,
<span class="math inline">\(i = 1, 2, ... N\)</span></p>
<p><span class="math inline">\({x_i}\)</span> = the true value of
variable x for observation i</p>
<p><span class="math inline">\(\bar{x}\)</span> = the mean value of
variable x</p>
<p><span class="math inline">\(\hat{x_i}\)</span> = prediction
(imputation) of variable x for observation i</p>
<p><span class="math inline">\(N\)</span> = number of observations</p>
<p><strong>Categorical variables (including ordinal
factors)</strong>:</p>
<p><span class="math inline">\(NMSE = \frac{BS}{BSref} = 1 -
BSS\)</span></p>
<p><span class="math inline">\(BS
=\frac{1}{N}\sum_{j=1}^{R}\sum_{i=1}^{N}(p_{ij} - x_{ij})^2\)</span>,
<span class="math inline">\(i = 1, 2, ... N\)</span>, <span class="math inline">\(j = 1, 2, ... R\)</span></p>
<p><span class="math inline">\(BSref
=\frac{1}{N}\sum_{j=1}^{R}\sum_{i=1}^{N}(p_{j} -
x_{ij})^2=1-\sum_{j=1}^{R}p_j^2\)</span></p>
<p><span class="math inline">\({x_{ij}}\)</span> = the true value of
variable x for observation i and class j (1 if observation i has class j
and 0 otherwise)</p>
<p><span class="math inline">\(p_{ij}\)</span> = prediction
(probability) for observation i and class j</p>
<p><span class="math inline">\(p_{j}\)</span> = proportion of the event
in class j</p>
<p><span class="math inline">\(N\)</span> = number of observations</p>
<p><span class="math inline">\(R\)</span> = number of classes</p>
<p>The Brier Score (<span class="math inline">\(BS\)</span>) is
calculated as the sum of square distances between the predictions (as
probabilities) and the true values (0 or 1) for each class. The
reference Brier Score (<span class="math inline">\(BSref\)</span>) is
calculated as the Brier Score of a predictor that predicts the
proportion of the event in each class <span class="citation">(Brier et
al. 1950)</span>.</p>
</div>
<div id="imputation-error-monitoring" class="section level2">
<h2>Imputation error monitoring</h2>
<p>At each iteration, the MSE (mean square error) and NMSE (normalized
mean square error) are saved and reported for each variable if
<code>verbose = TRUE</code>.</p>
<p>Post imputation, the error can be checked using the
<code>evaluate_imputation_error</code> function.</p>
</div>
</div>
<div id="examples" class="section level1">
<h1>Examples</h1>
<p>Please note that in all following examples we set the
<code>ranger</code> parameter <code>num.threads</code> to 2. If you are
running the code on a machine with more cores and you are willing to use
them for running the code, you can remove this parameter completely.</p>
<div id="data-used-for-demonstration" class="section level2">
<h2>Data used for demonstration</h2>
<p><strong>Iris data</strong> The iris dataset in R base contains 4
continuous variables and one categorical variable with three categories
for N = 150 flowers <span class="citation">(Anderson 1935)</span>.</p>
<p><strong>Diamonds data</strong> The diamonds dataset from
<code>ggplot2</code> R package contains seven continuous variables and
three categorical variables for N = 53940 diamonds <span class="citation">(Wickham 2016)</span>.</p>
</div>
<div id="inspect-convergence-errors" class="section level2">
<h2>Inspect convergence errors</h2>
<p>The MSE and NMSE errors are returned at the end of the imputation as
part of the return object.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(missForestPredict)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>iris_mis <span class="ot">&lt;-</span> <span class="fu">produce_NA</span>(iris, <span class="at">proportion =</span> <span class="fl">0.5</span>)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>missForest_object <span class="ot">&lt;-</span> missForestPredict<span class="sc">::</span><span class="fu">missForest</span>(iris_mis, <span class="at">verbose =</span> <span class="cn">TRUE</span>, <span class="at">num.threads =</span> <span class="dv">2</span>)</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="co">#&gt; Imputation sequence (missing proportion):  Sepal.Length (0.5) Sepal.Width (0.5) Petal.Length (0.5) Petal.Width (0.5) Species (0.5) </span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="co">#&gt;   missForest iteration 1 in progress...done!</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="co">#&gt;     OOB errors MSE:            0.2733877591, 0.1174921291, 0.2974377969, 0.0406175941, 0.0445078208</span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="co">#&gt;     OOB errors NMSE:           0.3835061935, 0.7412939699, 0.1024426742, 0.0699874304, 0.2010357269</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="co">#&gt;     diff. convergence measure: 0.700346801</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="co">#&gt;     time:                      0.2 seconds</span></span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="co">#&gt;   missForest iteration 2 in progress...done!</span></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="co">#&gt;     OOB errors MSE:            0.071155368, 0.1117334137, 0.1350545451, 0.0317446323, 0.0368819682</span></span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a><span class="co">#&gt;     OOB errors NMSE:           0.0998161894, 0.7049604642, 0.0465150996, 0.054698593, 0.1665907957</span></span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a><span class="co">#&gt;     diff. convergence measure: 0.0851369706</span></span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a><span class="co">#&gt;     time:                      0.17 seconds</span></span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a><span class="co">#&gt;   missForest iteration 3 in progress...done!</span></span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a><span class="co">#&gt;     OOB errors MSE:            0.0753490553, 0.0925979462, 0.0824618803, 0.0298573717, 0.0331095627</span></span>
<span id="cb1-24"><a href="#cb1-24" tabindex="-1"></a><span class="co">#&gt;     OOB errors NMSE:           0.1056990608, 0.5842289156, 0.0284012846, 0.0514466889, 0.1495513574</span></span>
<span id="cb1-25"><a href="#cb1-25" tabindex="-1"></a><span class="co">#&gt;     diff. convergence measure: 0.0306507669</span></span>
<span id="cb1-26"><a href="#cb1-26" tabindex="-1"></a><span class="co">#&gt;     time:                      0.21 seconds</span></span>
<span id="cb1-27"><a href="#cb1-27" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb1-28"><a href="#cb1-28" tabindex="-1"></a><span class="co">#&gt;   missForest iteration 4 in progress...done!</span></span>
<span id="cb1-29"><a href="#cb1-29" tabindex="-1"></a><span class="co">#&gt;     OOB errors MSE:            0.0727207271, 0.0813881577, 0.0866222306, 0.0283070915, 0.0325095776</span></span>
<span id="cb1-30"><a href="#cb1-30" tabindex="-1"></a><span class="co">#&gt;     OOB errors NMSE:           0.1020120627, 0.513502913, 0.0298341806, 0.0487754296, 0.1468413069</span></span>
<span id="cb1-31"><a href="#cb1-31" tabindex="-1"></a><span class="co">#&gt;     diff. convergence measure: 0.0156722829</span></span>
<span id="cb1-32"><a href="#cb1-32" tabindex="-1"></a><span class="co">#&gt;     time:                      0.2 seconds</span></span>
<span id="cb1-33"><a href="#cb1-33" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb1-34"><a href="#cb1-34" tabindex="-1"></a><span class="co">#&gt;   missForest iteration 5 in progress...done!</span></span>
<span id="cb1-35"><a href="#cb1-35" tabindex="-1"></a><span class="co">#&gt;     OOB errors MSE:            0.0765218346, 0.0823391774, 0.0822525938, 0.0281909296, 0.0273295562</span></span>
<span id="cb1-36"><a href="#cb1-36" tabindex="-1"></a><span class="co">#&gt;     OOB errors NMSE:           0.1073442264, 0.5195031889, 0.0283292028, 0.0485752731, 0.1234438601</span></span>
<span id="cb1-37"><a href="#cb1-37" tabindex="-1"></a><span class="co">#&gt;     diff. convergence measure: 0.0027540283</span></span>
<span id="cb1-38"><a href="#cb1-38" tabindex="-1"></a><span class="co">#&gt;     time:                      0.2 seconds</span></span>
<span id="cb1-39"><a href="#cb1-39" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb1-40"><a href="#cb1-40" tabindex="-1"></a><span class="co">#&gt;   missForest iteration 6 in progress...done!</span></span>
<span id="cb1-41"><a href="#cb1-41" tabindex="-1"></a><span class="co">#&gt;     OOB errors MSE:            0.0904249301, 0.0809881436, 0.086694038, 0.028991682, 0.0295946342</span></span>
<span id="cb1-42"><a href="#cb1-42" tabindex="-1"></a><span class="co">#&gt;     OOB errors NMSE:           0.1268473792, 0.510979101, 0.0298589123, 0.0499550349, 0.1336749067</span></span>
<span id="cb1-43"><a href="#cb1-43" tabindex="-1"></a><span class="co">#&gt;     diff. convergence measure: -0.0048239166</span></span>
<span id="cb1-44"><a href="#cb1-44" tabindex="-1"></a><span class="co">#&gt;     time:                      0.22 seconds</span></span>
<span id="cb1-45"><a href="#cb1-45" tabindex="-1"></a></span>
<span id="cb1-46"><a href="#cb1-46" tabindex="-1"></a><span class="fu">print</span>(missForest_object<span class="sc">$</span>OOB_err)</span>
<span id="cb1-47"><a href="#cb1-47" tabindex="-1"></a><span class="co">#&gt;    iteration     variable        MSE       NMSE        MER  macro_F1 F1_score</span></span>
<span id="cb1-48"><a href="#cb1-48" tabindex="-1"></a><span class="co">#&gt; 1          0 Sepal.Length         NA 1.00000000         NA        NA       NA</span></span>
<span id="cb1-49"><a href="#cb1-49" tabindex="-1"></a><span class="co">#&gt; 2          0  Sepal.Width         NA 1.00000000         NA        NA       NA</span></span>
<span id="cb1-50"><a href="#cb1-50" tabindex="-1"></a><span class="co">#&gt; 3          0 Petal.Length         NA 1.00000000         NA        NA       NA</span></span>
<span id="cb1-51"><a href="#cb1-51" tabindex="-1"></a><span class="co">#&gt; 4          0  Petal.Width         NA 1.00000000         NA        NA       NA</span></span>
<span id="cb1-52"><a href="#cb1-52" tabindex="-1"></a><span class="co">#&gt; 5          0      Species         NA 1.00000000         NA        NA       NA</span></span>
<span id="cb1-53"><a href="#cb1-53" tabindex="-1"></a><span class="co">#&gt; 6          1 Sepal.Length 0.27338776 0.38350619         NA        NA       NA</span></span>
<span id="cb1-54"><a href="#cb1-54" tabindex="-1"></a><span class="co">#&gt; 7          1  Sepal.Width 0.11749213 0.74129397         NA        NA       NA</span></span>
<span id="cb1-55"><a href="#cb1-55" tabindex="-1"></a><span class="co">#&gt; 8          1 Petal.Length 0.29743780 0.10244267         NA        NA       NA</span></span>
<span id="cb1-56"><a href="#cb1-56" tabindex="-1"></a><span class="co">#&gt; 9          1  Petal.Width 0.04061759 0.06998743         NA        NA       NA</span></span>
<span id="cb1-57"><a href="#cb1-57" tabindex="-1"></a><span class="co">#&gt; 10         1      Species 0.04450782 0.20103573 0.08000000 0.9222896       NA</span></span>
<span id="cb1-58"><a href="#cb1-58" tabindex="-1"></a><span class="co">#&gt; 11         2 Sepal.Length 0.07115537 0.09981619         NA        NA       NA</span></span>
<span id="cb1-59"><a href="#cb1-59" tabindex="-1"></a><span class="co">#&gt; 12         2  Sepal.Width 0.11173341 0.70496046         NA        NA       NA</span></span>
<span id="cb1-60"><a href="#cb1-60" tabindex="-1"></a><span class="co">#&gt; 13         2 Petal.Length 0.13505455 0.04651510         NA        NA       NA</span></span>
<span id="cb1-61"><a href="#cb1-61" tabindex="-1"></a><span class="co">#&gt; 14         2  Petal.Width 0.03174463 0.05469859         NA        NA       NA</span></span>
<span id="cb1-62"><a href="#cb1-62" tabindex="-1"></a><span class="co">#&gt; 15         2      Species 0.03688197 0.16659080 0.08000000 0.9228758       NA</span></span>
<span id="cb1-63"><a href="#cb1-63" tabindex="-1"></a><span class="co">#&gt; 16         3 Sepal.Length 0.07534906 0.10569906         NA        NA       NA</span></span>
<span id="cb1-64"><a href="#cb1-64" tabindex="-1"></a><span class="co">#&gt; 17         3  Sepal.Width 0.09259795 0.58422892         NA        NA       NA</span></span>
<span id="cb1-65"><a href="#cb1-65" tabindex="-1"></a><span class="co">#&gt; 18         3 Petal.Length 0.08246188 0.02840128         NA        NA       NA</span></span>
<span id="cb1-66"><a href="#cb1-66" tabindex="-1"></a><span class="co">#&gt; 19         3  Petal.Width 0.02985737 0.05144669         NA        NA       NA</span></span>
<span id="cb1-67"><a href="#cb1-67" tabindex="-1"></a><span class="co">#&gt; 20         3      Species 0.03310956 0.14955136 0.08000000 0.9228758       NA</span></span>
<span id="cb1-68"><a href="#cb1-68" tabindex="-1"></a><span class="co">#&gt; 21         4 Sepal.Length 0.07272073 0.10201206         NA        NA       NA</span></span>
<span id="cb1-69"><a href="#cb1-69" tabindex="-1"></a><span class="co">#&gt; 22         4  Sepal.Width 0.08138816 0.51350291         NA        NA       NA</span></span>
<span id="cb1-70"><a href="#cb1-70" tabindex="-1"></a><span class="co">#&gt; 23         4 Petal.Length 0.08662223 0.02983418         NA        NA       NA</span></span>
<span id="cb1-71"><a href="#cb1-71" tabindex="-1"></a><span class="co">#&gt; 24         4  Petal.Width 0.02830709 0.04877543         NA        NA       NA</span></span>
<span id="cb1-72"><a href="#cb1-72" tabindex="-1"></a><span class="co">#&gt; 25         4      Species 0.03250958 0.14684131 0.06666667 0.9355050       NA</span></span>
<span id="cb1-73"><a href="#cb1-73" tabindex="-1"></a><span class="co">#&gt; 26         5 Sepal.Length 0.07652183 0.10734423         NA        NA       NA</span></span>
<span id="cb1-74"><a href="#cb1-74" tabindex="-1"></a><span class="co">#&gt; 27         5  Sepal.Width 0.08233918 0.51950319         NA        NA       NA</span></span>
<span id="cb1-75"><a href="#cb1-75" tabindex="-1"></a><span class="co">#&gt; 28         5 Petal.Length 0.08225259 0.02832920         NA        NA       NA</span></span>
<span id="cb1-76"><a href="#cb1-76" tabindex="-1"></a><span class="co">#&gt; 29         5  Petal.Width 0.02819093 0.04857527         NA        NA       NA</span></span>
<span id="cb1-77"><a href="#cb1-77" tabindex="-1"></a><span class="co">#&gt; 30         5      Species 0.02732956 0.12344386 0.08000000 0.9228758       NA</span></span>
<span id="cb1-78"><a href="#cb1-78" tabindex="-1"></a><span class="co">#&gt; 31         6 Sepal.Length 0.09042493 0.12684738         NA        NA       NA</span></span>
<span id="cb1-79"><a href="#cb1-79" tabindex="-1"></a><span class="co">#&gt; 32         6  Sepal.Width 0.08098814 0.51097910         NA        NA       NA</span></span>
<span id="cb1-80"><a href="#cb1-80" tabindex="-1"></a><span class="co">#&gt; 33         6 Petal.Length 0.08669404 0.02985891         NA        NA       NA</span></span>
<span id="cb1-81"><a href="#cb1-81" tabindex="-1"></a><span class="co">#&gt; 34         6  Petal.Width 0.02899168 0.04995503         NA        NA       NA</span></span>
<span id="cb1-82"><a href="#cb1-82" tabindex="-1"></a><span class="co">#&gt; 35         6      Species 0.02959463 0.13367491 0.06666667 0.9355050       NA</span></span>
<span id="cb1-83"><a href="#cb1-83" tabindex="-1"></a><span class="co">#&gt; 36         7 Sepal.Length         NA         NA         NA        NA       NA</span></span>
<span id="cb1-84"><a href="#cb1-84" tabindex="-1"></a><span class="co">#&gt; 37         7  Sepal.Width         NA         NA         NA        NA       NA</span></span>
<span id="cb1-85"><a href="#cb1-85" tabindex="-1"></a><span class="co">#&gt; 38         7 Petal.Length         NA         NA         NA        NA       NA</span></span>
<span id="cb1-86"><a href="#cb1-86" tabindex="-1"></a><span class="co">#&gt; 39         7  Petal.Width         NA         NA         NA        NA       NA</span></span>
<span id="cb1-87"><a href="#cb1-87" tabindex="-1"></a><span class="co">#&gt; 40         7      Species         NA         NA         NA        NA       NA</span></span>
<span id="cb1-88"><a href="#cb1-88" tabindex="-1"></a><span class="co">#&gt; 41         8 Sepal.Length         NA         NA         NA        NA       NA</span></span>
<span id="cb1-89"><a href="#cb1-89" tabindex="-1"></a><span class="co">#&gt; 42         8  Sepal.Width         NA         NA         NA        NA       NA</span></span>
<span id="cb1-90"><a href="#cb1-90" tabindex="-1"></a><span class="co">#&gt; 43         8 Petal.Length         NA         NA         NA        NA       NA</span></span>
<span id="cb1-91"><a href="#cb1-91" tabindex="-1"></a><span class="co">#&gt; 44         8  Petal.Width         NA         NA         NA        NA       NA</span></span>
<span id="cb1-92"><a href="#cb1-92" tabindex="-1"></a><span class="co">#&gt; 45         8      Species         NA         NA         NA        NA       NA</span></span>
<span id="cb1-93"><a href="#cb1-93" tabindex="-1"></a><span class="co">#&gt; 46         9 Sepal.Length         NA         NA         NA        NA       NA</span></span>
<span id="cb1-94"><a href="#cb1-94" tabindex="-1"></a><span class="co">#&gt; 47         9  Sepal.Width         NA         NA         NA        NA       NA</span></span>
<span id="cb1-95"><a href="#cb1-95" tabindex="-1"></a><span class="co">#&gt; 48         9 Petal.Length         NA         NA         NA        NA       NA</span></span>
<span id="cb1-96"><a href="#cb1-96" tabindex="-1"></a><span class="co">#&gt; 49         9  Petal.Width         NA         NA         NA        NA       NA</span></span>
<span id="cb1-97"><a href="#cb1-97" tabindex="-1"></a><span class="co">#&gt; 50         9      Species         NA         NA         NA        NA       NA</span></span>
<span id="cb1-98"><a href="#cb1-98" tabindex="-1"></a><span class="co">#&gt; 51        10 Sepal.Length         NA         NA         NA        NA       NA</span></span>
<span id="cb1-99"><a href="#cb1-99" tabindex="-1"></a><span class="co">#&gt; 52        10  Sepal.Width         NA         NA         NA        NA       NA</span></span>
<span id="cb1-100"><a href="#cb1-100" tabindex="-1"></a><span class="co">#&gt; 53        10 Petal.Length         NA         NA         NA        NA       NA</span></span>
<span id="cb1-101"><a href="#cb1-101" tabindex="-1"></a><span class="co">#&gt; 54        10  Petal.Width         NA         NA         NA        NA       NA</span></span>
<span id="cb1-102"><a href="#cb1-102" tabindex="-1"></a><span class="co">#&gt; 55        10      Species         NA         NA         NA        NA       NA</span></span></code></pre></div>
<p>These can be plotted in a graph if visual inspection seems easier to
understand. We will plot the errors using <code>ggplot2</code>
package.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>missForest_object<span class="sc">$</span>OOB_err <span class="sc">%&gt;%</span> </span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(NMSE)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(iteration, NMSE, <span class="at">col =</span> variable)) <span class="sc">+</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="use-weighted-average-in-convergence" class="section level2">
<h2>Use weighted average in convergence</h2>
<p>The convergence of the algorithm is based on the a weighted average
of the OOB NMSE for each variable. The weights are proportional to the
proportion of missing values in the dataset. There can be situations
when this in not the optimal choice. The weights for each variable can
be adjusted via the <code>var_weights</code> parameter. In the following
example we will create different proportion of missing values for each
variable and adjust the weights to be equal.</p>
<p>We will create missing values only on the last two variables
(Petal.Width and Species) and first run the imputation with the default
setting. Keep in mind that <code>missForestPredict</code> builds models
for all variables in the dataset, regardless of the missingness rate.
Models will be built also for variables that are complete. Their weight
will be zero in the convergence criteria, but imputation models will
still be stored for these variables and can be later used on new
observations; if unexpectedly missing values will occur in your test
set, these will be imputed using these learned models.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">library</span>(missForestPredict)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>proportion_missing <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">0.3</span>, <span class="fl">0.3</span>)</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>iris_mis <span class="ot">&lt;-</span> <span class="fu">produce_NA</span>(iris, <span class="at">proportion =</span> proportion_missing)</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a>missForest_object <span class="ot">&lt;-</span> missForestPredict<span class="sc">::</span><span class="fu">missForest</span>(iris_mis, <span class="at">verbose =</span> <span class="cn">TRUE</span>, <span class="at">num.threads =</span> <span class="dv">2</span>)</span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="co">#&gt; Imputation sequence (missing proportion):  Sepal.Length (0) Sepal.Width (0) Petal.Length (0) Petal.Width (0.3) Species (0.3) </span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="co">#&gt;   missForest iteration 1 in progress...done!</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="co">#&gt;     OOB errors MSE:            0.1235818874, 0.0905813347, 0.1934736751, 0.0442122339, 0.0334087323</span></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a><span class="co">#&gt;     OOB errors NMSE:           0.1814386367, 0.4799954852, 0.0625015372, 0.0768086337, 0.1504621215</span></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="co">#&gt;     diff. convergence measure: 0.8863646224</span></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a><span class="co">#&gt;     time:                      0.15 seconds</span></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a><span class="co">#&gt;   missForest iteration 2 in progress...done!</span></span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a><span class="co">#&gt;     OOB errors MSE:            0.1125602343, 0.0852139398, 0.0616312306, 0.0374273394, 0.0319707164</span></span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a><span class="co">#&gt;     OOB errors NMSE:           0.1652570282, 0.4515533639, 0.0199099265, 0.0650214329, 0.1439857633</span></span>
<span id="cb3-25"><a href="#cb3-25" tabindex="-1"></a><span class="co">#&gt;     diff. convergence measure: 0.0091317795</span></span>
<span id="cb3-26"><a href="#cb3-26" tabindex="-1"></a><span class="co">#&gt;     time:                      0.17 seconds</span></span>
<span id="cb3-27"><a href="#cb3-27" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb3-28"><a href="#cb3-28" tabindex="-1"></a><span class="co">#&gt;   missForest iteration 3 in progress...done!</span></span>
<span id="cb3-29"><a href="#cb3-29" tabindex="-1"></a><span class="co">#&gt;     OOB errors MSE:            0.1122819459, 0.0829346456, 0.0586239043, 0.0379312945, 0.0318547888</span></span>
<span id="cb3-30"><a href="#cb3-30" tabindex="-1"></a><span class="co">#&gt;     OOB errors NMSE:           0.1648484548, 0.4394752585, 0.0189384118, 0.0658969396, 0.1434636628</span></span>
<span id="cb3-31"><a href="#cb3-31" tabindex="-1"></a><span class="co">#&gt;     diff. convergence measure: -0.0001767031</span></span>
<span id="cb3-32"><a href="#cb3-32" tabindex="-1"></a><span class="co">#&gt;     time:                      0.16 seconds</span></span>
<span id="cb3-33"><a href="#cb3-33" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" tabindex="-1"></a><span class="co"># plot convergence</span></span>
<span id="cb3-35"><a href="#cb3-35" tabindex="-1"></a>missForest_object<span class="sc">$</span>OOB_err <span class="sc">%&gt;%</span> </span>
<span id="cb3-36"><a href="#cb3-36" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(NMSE)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-37"><a href="#cb3-37" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(iteration, NMSE, <span class="at">col =</span> variable)) <span class="sc">+</span></span>
<span id="cb3-38"><a href="#cb3-38" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb3-39"><a href="#cb3-39" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>We will further adapt the weights to be equal. You can observe that
the results (number of iterations) will be different in this case.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>missForest_object <span class="ot">&lt;-</span> missForestPredict<span class="sc">::</span><span class="fu">missForest</span>(iris_mis, <span class="at">verbose =</span> <span class="cn">TRUE</span>, </span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>                                                   <span class="at">var_weights =</span> <span class="fu">setNames</span>(<span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">ncol</span>(iris_mis)), <span class="fu">colnames</span>(iris_mis)), <span class="at">num.threads =</span> <span class="dv">2</span>)</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="co">#&gt; Imputation sequence (missing proportion):  Sepal.Length (0) Sepal.Width (0) Petal.Length (0) Petal.Width (0.3) Species (0.3) </span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co">#&gt;   missForest iteration 1 in progress...done!</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co">#&gt;     OOB errors MSE:            0.1235818874, 0.0905813347, 0.1934736751, 0.0442122339, 0.0334087323</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co">#&gt;     OOB errors NMSE:           0.1814386367, 0.4799954852, 0.0625015372, 0.0768086337, 0.1504621215</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="co">#&gt;     diff. convergence measure: 0.8097587171</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="co">#&gt;     time:                      0.16 seconds</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="co">#&gt;   missForest iteration 2 in progress...done!</span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="co">#&gt;     OOB errors MSE:            0.1125602343, 0.0852139398, 0.0616312306, 0.0374273394, 0.0319707164</span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="co">#&gt;     OOB errors NMSE:           0.1652570282, 0.4515533639, 0.0199099265, 0.0650214329, 0.1439857633</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="co">#&gt;     diff. convergence measure: 0.0210957799</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="co">#&gt;     time:                      0.18 seconds</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a><span class="co">#&gt;   missForest iteration 3 in progress...done!</span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="co">#&gt;     OOB errors MSE:            0.1122819459, 0.0829346456, 0.0586239043, 0.0379312945, 0.0318547888</span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="co">#&gt;     OOB errors NMSE:           0.1648484548, 0.4394752585, 0.0189384118, 0.0658969396, 0.1434636628</span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="co">#&gt;     diff. convergence measure: 0.0026209574</span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="co">#&gt;     time:                      0.28 seconds</span></span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a><span class="co">#&gt;   missForest iteration 4 in progress...done!</span></span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a><span class="co">#&gt;     OOB errors MSE:            0.1142524416, 0.0811637847, 0.0581306484, 0.0371718621, 0.0307816046</span></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a><span class="co">#&gt;     OOB errors NMSE:           0.1677414682, 0.4300913689, 0.0187790658, 0.0645775996, 0.1386303882</span></span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a><span class="co">#&gt;     diff. convergence measure: 0.0025605674</span></span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a><span class="co">#&gt;     time:                      0.18 seconds</span></span>
<span id="cb4-29"><a href="#cb4-29" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb4-30"><a href="#cb4-30" tabindex="-1"></a><span class="co">#&gt;   missForest iteration 5 in progress...done!</span></span>
<span id="cb4-31"><a href="#cb4-31" tabindex="-1"></a><span class="co">#&gt;     OOB errors MSE:            0.1150285581, 0.0836558658, 0.0570142275, 0.0373563133, 0.0323224142</span></span>
<span id="cb4-32"><a href="#cb4-32" tabindex="-1"></a><span class="co">#&gt;     OOB errors NMSE:           0.1688809356, 0.4432970442, 0.0184184068, 0.0648980414, 0.1455696963</span></span>
<span id="cb4-33"><a href="#cb4-33" tabindex="-1"></a><span class="co">#&gt;     diff. convergence measure: -0.0042488467</span></span>
<span id="cb4-34"><a href="#cb4-34" tabindex="-1"></a><span class="co">#&gt;     time:                      0.15 seconds</span></span>
<span id="cb4-35"><a href="#cb4-35" tabindex="-1"></a></span>
<span id="cb4-36"><a href="#cb4-36" tabindex="-1"></a><span class="co"># plot convergence</span></span>
<span id="cb4-37"><a href="#cb4-37" tabindex="-1"></a>missForest_object<span class="sc">$</span>OOB_err <span class="sc">%&gt;%</span> </span>
<span id="cb4-38"><a href="#cb4-38" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(NMSE)) <span class="sc">%&gt;%</span> </span>
<span id="cb4-39"><a href="#cb4-39" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(iteration, NMSE, <span class="at">col =</span> variable)) <span class="sc">+</span></span>
<span id="cb4-40"><a href="#cb4-40" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb4-41"><a href="#cb4-41" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="assess-imputation-error-when-the-true-values-are-known" class="section level2">
<h2>Assess imputation error when the true values are known</h2>
<p>Post imputation, the error can be checked using the
<code>evaluate_imputation_error</code> function. This can be done, of
course, only when the true values (passed via <code>xtrue</code>) are
known. The errors are calculated as differences from the true
values.</p>
<p>As Species is a categorical variable and it is imputed with one of
the classes of the variable (setosa, versicolor or virginica) and not
with probabilities, only the MER (missclassification error rate) can be
calculated post imputation.</p>
<p>By default, <code>evaluate_imputation_error</code> returns the MSE
and NMSE using only the missing values, while the OOB error in the
convergence criteria is calculated using only the non-missing
values.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">evaluate_imputation_error</span>(missForest_object<span class="sc">$</span>ximp, iris_mis, iris)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="co">#&gt;       variable        MSE       NMSE        MER  macro_F1 F1_score</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="co">#&gt; 1 Petal.Length 0.00000000 0.00000000         NA        NA       NA</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="co">#&gt; 2  Petal.Width 0.02745403 0.04811037         NA        NA       NA</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="co">#&gt; 3 Sepal.Length 0.00000000 0.00000000         NA        NA       NA</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co">#&gt; 4  Sepal.Width 0.00000000 0.00000000         NA        NA       NA</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="co">#&gt; 5      Species         NA         NA 0.02222222 0.9791463       NA</span></span></code></pre></div>
</div>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="unnumbered">References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-anderson1935irises" class="csl-entry">
Anderson, Edgar. 1935. <span>âThe Irises of the Gaspe Peninsula.â</span>
<em>Bull. Am. Iris Soc.</em> 59: 2â5.
</div>
<div id="ref-brier1950verification" class="csl-entry">
Brier, Glenn W et al. 1950. <span>âVerification of Forecasts Expressed
in Terms of Probability.â</span> <em>Monthly Weather Review</em> 78 (1):
1â3.
</div>
<div id="ref-stekhoven2012missforest" class="csl-entry">
Stekhoven, Daniel J, and Peter BÃ¼hlmann. 2012.
<span>âMissForestâNon-Parametric Missing Value Imputation for Mixed-Type
Data.â</span> <em>Bioinformatics</em> 28 (1): 112â18.
</div>
<div id="ref-ggplot2" class="csl-entry">
Wickham, Hadley. 2016. <em>Ggplot2: Elegant Graphics for Data
Analysis</em>. Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>.
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
